<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>da-bubble documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">da-bubble documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >StorageService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/services/storage.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#avatars" >avatars</a>
                            </li>
                            <li>
                                <a href="#downloadUrl" >downloadUrl</a>
                            </li>
                            <li>
                                <a href="#downloadUrlThread" >downloadUrlThread</a>
                            </li>
                            <li>
                                <a href="#fileName" >fileName</a>
                            </li>
                            <li>
                                <a href="#fileNameTextarea" >fileNameTextarea</a>
                            </li>
                            <li>
                                <a href="#fileNameTextareaThread" >fileNameTextareaThread</a>
                            </li>
                            <li>
                                <a href="#files" >files</a>
                            </li>
                            <li>
                                <a href="#fileSizeToBig" >fileSizeToBig</a>
                            </li>
                            <li>
                                <a href="#fileSizeToBigThread" >fileSizeToBigThread</a>
                            </li>
                            <li>
                                <a href="#filesTextarea" >filesTextarea</a>
                            </li>
                            <li>
                                <a href="#filesTextareaThread" >filesTextareaThread</a>
                            </li>
                            <li>
                                <a href="#fileUrl" >fileUrl</a>
                            </li>
                            <li>
                                <a href="#fileUrlTextarea" >fileUrlTextarea</a>
                            </li>
                            <li>
                                <a href="#fileUrlTextareaThread" >fileUrlTextareaThread</a>
                            </li>
                            <li>
                                <a href="#pdfUrl" >pdfUrl</a>
                            </li>
                            <li>
                                <a href="#pdfUrlThread" >pdfUrlThread</a>
                            </li>
                            <li>
                                <a href="#sanitizer" >sanitizer</a>
                            </li>
                            <li>
                                <a href="#selectedAvatar" >selectedAvatar</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#storage" >storage</a>
                            </li>
                            <li>
                                <a href="#uploadedFileType" >uploadedFileType</a>
                            </li>
                            <li>
                                <a href="#uploadedFileTypeThread" >uploadedFileTypeThread</a>
                            </li>
                            <li>
                                <a href="#userService" >userService</a>
                            </li>
                            <li>
                                <a href="#wrongFileType" >wrongFileType</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#abortUpload" >abortUpload</a>
                            </li>
                            <li>
                                <a href="#abortUploadForThread" >abortUploadForThread</a>
                            </li>
                            <li>
                                <a href="#getAvatars" >getAvatars</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#handleImageFile" >handleImageFile</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#handleImageFileForThread" >handleImageFileForThread</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#handlePdfFile" >handlePdfFile</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#handlePdfFileForThread" >handlePdfFileForThread</a>
                            </li>
                            <li>
                                <a href="#isImage" >isImage</a>
                            </li>
                            <li>
                                <a href="#isPdf" >isPdf</a>
                            </li>
                            <li>
                                <a href="#isValid" >isValid</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onFileSelected" >onFileSelected</a>
                            </li>
                            <li>
                                <a href="#onFileSelectedTextarea" >onFileSelectedTextarea</a>
                            </li>
                            <li>
                                <a href="#onFileSelectedTextareaForThread" >onFileSelectedTextareaForThread</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#uploadFile" >uploadFile</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#uploadFileAndGetUrl" >uploadFileAndGetUrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#uploadFileAndGetUrlForThread" >uploadFileAndGetUrlForThread</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor()</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/shared/services/storage.service.ts:39</a></div>
                            </td>
                        </tr>

            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="abortUpload"></a>
                    <span class="name">
                        <span ><b>abortUpload</b></span>
                        <a href="#abortUpload"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>abortUpload()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="257"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:257</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>abortUpload</code> function clears the <code>fileNameTextarea</code> and <code>fileUrlTextarea</code> values.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="abortUploadForThread"></a>
                    <span class="name">
                        <span ><b>abortUploadForThread</b></span>
                        <a href="#abortUploadForThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>abortUploadForThread()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="249"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:249</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>abortUploadForThread</code> clears the <code>fileNameTextareaThread</code> and <code>fileUrlTextareaThread</code>
variables.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAvatars"></a>
                    <span class="name">
                        <span ><b>getAvatars</b></span>
                        <a href="#getAvatars"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getAvatars()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="51"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:51</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves the list of avatars.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>string[]</code>

                        </div>
                            <div class="io-description">
                                <p>The array of avatar paths.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleImageFile"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>handleImageFile</b></span>
                        <a href="#handleImageFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleImageFile(file: File)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="209"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:209</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>handleImageFile</code> reads an image file using FileReader and sets the result as the value
of <code>fileUrlTextarea</code>.
represents a file from the user&#39;s system that is being processed.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>file</code> parameter in the <code>handleImageFile</code> function is of type <code>File</code>, which
represents a file from the user&#39;s system that is being processed.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleImageFileForThread"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>handleImageFileForThread</b></span>
                        <a href="#handleImageFileForThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleImageFileForThread(file: File)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="159"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:159</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>handleImageFileForThread</code> reads an image file and sets the result as a data URL in a
textarea.
<code>File</code>, which represents a file from the user&#39;s system. In this case, it is being used to read the
contents of an image file and convert it to a data URL using a <code>FileReader</code>.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>file</code> parameter in the <code>handleImageFileForThread</code> function is of type
<code>File</code>, which represents a file from the user&#39;s system. In this case, it is being used to read the
contents of an image file and convert it to a data URL using a <code>FileReader</code>.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handlePdfFile"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>handlePdfFile</b></span>
                        <a href="#handlePdfFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handlePdfFile(file: File)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="198"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:198</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>handlePdfFile</code> sets the PDF URL and a default image URL for a given file.
represents a file from the user&#39;s system. In this context, it is used to handle a PDF file that is
passed to the function for processing.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>file</code> parameter in the <code>handlePdfFile</code> function is of type <code>File</code>, which
represents a file from the user&#39;s system. In this context, it is used to handle a PDF file that is
passed to the function for processing.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handlePdfFileForThread"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>handlePdfFileForThread</b></span>
                        <a href="#handlePdfFileForThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handlePdfFileForThread(file: File)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="146"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:146</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>handlePdfFileForThread</code> sets the PDF URL for a given file and updates the file URL for
a textarea.
<code>File</code>, which represents a file from the user&#39;s system. In this context, it is likely a PDF file
that is being processed within the function.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>file</code> parameter in the <code>handlePdfFileForThread</code> function is of type
<code>File</code>, which represents a file from the user&#39;s system. In this context, it is likely a PDF file
that is being processed within the function.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isImage"></a>
                    <span class="name">
                        <span ><b>isImage</b></span>
                        <a href="#isImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isImage(file: File | null | undefined)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="226"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:226</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>isImage</code> checks if a given file is an image based on its type.
<code>File</code> or <code>null</code> or <code>undefined</code>.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File | null | undefined</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>file</code> parameter in the <code>isImage</code> function is of type
<code>File</code> or <code>null</code> or <code>undefined</code>.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>A boolean value is being returned, indicating whether the file is an image or not.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isPdf"></a>
                    <span class="name">
                        <span ><b>isPdf</b></span>
                        <a href="#isPdf"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isPdf(file: File | null | undefined)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="239"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:239</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>isPdf</code> checks if a given file is a PDF file based on its type.
<code>File</code> or may be <code>null</code> or <code>undefined</code>.
not.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                        <code>File | null | undefined</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>file</code> parameter in the <code>isPdf</code> function is of type
<code>File</code> or may be <code>null</code> or <code>undefined</code>.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>The function <code>isPdf</code> returns a boolean value indicating whether the file is a PDF file or
not.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isValid"></a>
                    <span class="name">
                        <span ><b>isValid</b></span>
                        <a href="#isValid"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isValid(input: HTMLInputElement)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="294"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:294</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>isValid</code> checks if the file uploaded through an HTML input element is a valid image
file and logs the file size in bytes.
input is expected to be a file input element where the user can select a file. The function then
checks if the selected file is a valid image file
input element is &#39;jpeg&#39;, &#39;jpg&#39;, &#39;png&#39;, or &#39;gif&#39;.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>input</td>
                                            <td>
                                                        <code>HTMLInputElement</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>isValid</code> function takes an <code>HTMLInputElement</code> as input. This
input is expected to be a file input element where the user can select a file. The function then
checks if the selected file is a valid image file</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>The function <code>isValid</code> is returning a boolean value based on whether the file type of the
input element is &#39;jpeg&#39;, &#39;jpg&#39;, &#39;png&#39;, or &#39;gif&#39;.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="43"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:43</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onFileSelected"></a>
                    <span class="name">
                        <span ><b>onFileSelected</b></span>
                        <a href="#onFileSelected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onFileSelected(input: HTMLInputElement)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="65"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:65</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>onFileSelected</code> checks if a selected file exceeds a certain size limit and sets the
file name and URL if it is valid.
parameter. This function is used to handle file selection events, such as when a user selects a file.
indicating that the file exceeds the size limit. If there are no files selected or the selected file
is not valid, the function will return without further action. If a valid file is selected, the
function will set the selected file to be used in the application.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>input</td>
                                            <td>
                                                        <code>HTMLInputElement</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>onFileSelected</code> function takes an <code>HTMLInputElement</code> as input
parameter. This function is used to handle file selection events, such as when a user selects a file.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>If the file selected exceeds the size of 1024kb, the function will return a message
indicating that the file exceeds the size limit. If there are no files selected or the selected file
is not valid, the function will return without further action. If a valid file is selected, the
function will set the selected file to be used in the application.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onFileSelectedTextarea"></a>
                    <span class="name">
                        <span ><b>onFileSelectedTextarea</b></span>
                        <a href="#onFileSelectedTextarea"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onFileSelectedTextarea(input: HTMLInputElement)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="85"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:85</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>onFileSelectedTextarea</code> handles file selection in a textarea input, checks file size
and type, and calls appropriate handling functions based on the file type.
input. This function is responsible for handling file selection in a textarea element.
with a <code>return</code> statement if certain conditions are met.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>input</td>
                                            <td>
                                                        <code>HTMLInputElement</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>onFileSelectedTextarea</code> function takes an HTMLInputElement as
input. This function is responsible for handling file selection in a textarea element.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>The function <code>onFileSelectedTextarea</code> returns either nothing (undefined) or early exits
with a <code>return</code> statement if certain conditions are met.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onFileSelectedTextareaForThread"></a>
                    <span class="name">
                        <span ><b>onFileSelectedTextareaForThread</b></span>
                        <a href="#onFileSelectedTextareaForThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onFileSelectedTextareaForThread(input: HTMLInputElement)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="117"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:117</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>onFileSelectedTextareaForThread</code> handles file selection for a textarea input, checking
file size and type before processing the file accordingly.
textarea for a thread.
will return early without setting any properties or handling the file further. If the file is valid
and within size limits, it will set the <code>filesTextareaThread</code> property to the selected file, reset
the <code>fileSizeToBigThread</code> flag, set the <code>fileNameTextareaThread</code> property</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>input</td>
                                            <td>
                                                        <code>HTMLInputElement</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>This function is responsible for handling file selection in a
textarea for a thread.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>If the file is not valid or if the file size is too big (greater than 1MB), the function
will return early without setting any properties or handling the file further. If the file is valid
and within size limits, it will set the <code>filesTextareaThread</code> property to the selected file, reset
the <code>fileSizeToBigThread</code> flag, set the <code>fileNameTextareaThread</code> property</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uploadFile"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>uploadFile</b></span>
                        <a href="#uploadFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>uploadFile(uid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="314"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:314</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>uploadFile</code> function asynchronously uploads files to a storage location and updates the user&#39;s
profile picture URL.
user ID.
executing the file upload logic.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>uid</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>uid</code> parameter in the <code>uploadFile</code> function is a string representing the
user ID.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>If the <code>this.files</code> variable is <code>undefined</code>, the function will return early without
executing the file upload logic.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uploadFileAndGetUrl"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>uploadFileAndGetUrl</b></span>
                        <a href="#uploadFileAndGetUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>uploadFileAndGetUrl(channelId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="271"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:271</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>uploadFileAndGetUrl</code> uploads a file to a specified storage location and retrieves the
download URL.
string that represents the unique identifier of the channel where the file will be uploaded.
function will exit early. If neither of those conditions are met, the function will upload a file to
a storage location and retrieve the download URL for that file.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>channelId</code> parameter in the <code>uploadFileAndGetUrl</code> function is a
string that represents the unique identifier of the channel where the file will be uploaded.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>If <code>this.wrongFileType</code> or <code>this.fileSizeToBig</code> is true, nothing will be returned as the
function will exit early. If neither of those conditions are met, the function will upload a file to
a storage location and retrieve the download URL for that file.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uploadFileAndGetUrlForThread"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>uploadFileAndGetUrlForThread</b></span>
                        <a href="#uploadFileAndGetUrlForThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>uploadFileAndGetUrlForThread(originalMessageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="179"
                                    class="link-to-prism">src/app/shared/services/storage.service.ts:179</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>This function uploads a file to storage and retrieves the download URL for a specific thread based
on the original message ID.
the unique identifier of the message thread to which the file will be uploaded.
Otherwise, the function will upload a file to a storage location and retrieve the download URL for
that file.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>originalMessageId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>originalMessageId</code> parameter is a string that represents
the unique identifier of the message thread to which the file will be uploaded.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>If <code>this.wrongFileType</code> or <code>this.fileSizeToBigThread</code> is true, nothing will be returned.
Otherwise, the function will upload a file to a storage location and retrieve the download URL for
that file.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="avatars"></a>
                    <span class="name">
                        <span ><b>avatars</b></span>
                        <a href="#avatars"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile2.svg?alt&#x3D;media&amp;token&#x3D;fdc78ec8-f201-4138-8447-d49c957ba67a&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile1.svg?alt&#x3D;media&amp;token&#x3D;e8652777-3f75-4517-9789-e3b24ef87820&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile6.svg?alt&#x3D;media&amp;token&#x3D;f7827bc5-1cd3-499d-be4e-2e748a170699&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile4.svg?alt&#x3D;media&amp;token&#x3D;104a104e-712c-4d89-99c8-5c6d6eeb381b&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile5.svg?alt&#x3D;media&amp;token&#x3D;25935b79-8ce7-4f23-9d2e-a82b95adfbc3&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile3.svg?alt&#x3D;media&amp;token&#x3D;7bd92926-13d9-476b-8c39-fde34aa7044e&#x27;
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/shared/services/storage.service.ts:32</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="downloadUrl"></a>
                    <span class="name">
                        <span ><b>downloadUrl</b></span>
                        <a href="#downloadUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/shared/services/storage.service.ts:25</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="downloadUrlThread"></a>
                    <span class="name">
                        <span ><b>downloadUrlThread</b></span>
                        <a href="#downloadUrlThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/shared/services/storage.service.ts:26</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileName"></a>
                    <span class="name">
                        <span ><b>fileName</b></span>
                        <a href="#fileName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/shared/services/storage.service.ts:17</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileNameTextarea"></a>
                    <span class="name">
                        <span ><b>fileNameTextarea</b></span>
                        <a href="#fileNameTextarea"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/shared/services/storage.service.ts:18</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileNameTextareaThread"></a>
                    <span class="name">
                        <span ><b>fileNameTextareaThread</b></span>
                        <a href="#fileNameTextareaThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/shared/services/storage.service.ts:19</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="files"></a>
                    <span class="name">
                        <span ><b>files</b></span>
                        <a href="#files"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>FileList</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/shared/services/storage.service.ts:14</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileSizeToBig"></a>
                    <span class="name">
                        <span ><b>fileSizeToBig</b></span>
                        <a href="#fileSizeToBig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/shared/services/storage.service.ts:29</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileSizeToBigThread"></a>
                    <span class="name">
                        <span ><b>fileSizeToBigThread</b></span>
                        <a href="#fileSizeToBigThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/shared/services/storage.service.ts:31</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filesTextarea"></a>
                    <span class="name">
                        <span ><b>filesTextarea</b></span>
                        <a href="#filesTextarea"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>FileList</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/shared/services/storage.service.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filesTextareaThread"></a>
                    <span class="name">
                        <span ><b>filesTextareaThread</b></span>
                        <a href="#filesTextareaThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>FileList</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/shared/services/storage.service.ts:16</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileUrl"></a>
                    <span class="name">
                        <span ><b>fileUrl</b></span>
                        <a href="#fileUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/shared/services/storage.service.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileUrlTextarea"></a>
                    <span class="name">
                        <span ><b>fileUrlTextarea</b></span>
                        <a href="#fileUrlTextarea"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>SafeResourceUrl | string | ArrayBuffer | null</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/shared/services/storage.service.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileUrlTextareaThread"></a>
                    <span class="name">
                        <span ><b>fileUrlTextareaThread</b></span>
                        <a href="#fileUrlTextareaThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>SafeResourceUrl | string | ArrayBuffer | null</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/shared/services/storage.service.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pdfUrl"></a>
                    <span class="name">
                        <span ><b>pdfUrl</b></span>
                        <a href="#pdfUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>SafeResourceUrl | null</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/shared/services/storage.service.ts:23</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pdfUrlThread"></a>
                    <span class="name">
                        <span ><b>pdfUrlThread</b></span>
                        <a href="#pdfUrlThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>SafeResourceUrl | null</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/shared/services/storage.service.ts:24</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sanitizer"></a>
                    <span class="name">
                        <span ><b>sanitizer</b></span>
                        <a href="#sanitizer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>DomSanitizer</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(DomSanitizer)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="11" class="link-to-prism">src/app/shared/services/storage.service.ts:11</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedAvatar"></a>
                    <span class="name">
                        <span ><b>selectedAvatar</b></span>
                        <a href="#selectedAvatar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/shared/services/storage.service.ts:13</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="storage"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>storage</b></span>
                        <a href="#storage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Storage</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(Storage)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="10" class="link-to-prism">src/app/shared/services/storage.service.ts:10</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uploadedFileType"></a>
                    <span class="name">
                        <span ><b>uploadedFileType</b></span>
                        <a href="#uploadedFileType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/shared/services/storage.service.ts:27</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uploadedFileTypeThread"></a>
                    <span class="name">
                        <span ><b>uploadedFileTypeThread</b></span>
                        <a href="#uploadedFileTypeThread"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/shared/services/storage.service.ts:28</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userService"></a>
                    <span class="name">
                        <span ><b>userService</b></span>
                        <a href="#userService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(UserService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/app/shared/services/storage.service.ts:12</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="wrongFileType"></a>
                    <span class="name">
                        <span ><b>wrongFileType</b></span>
                        <a href="#wrongFileType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/shared/services/storage.service.ts:30</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, OnInit, inject } from &#x27;@angular/core&#x27;;
import { Storage, ref, uploadBytesResumable, getDownloadURL } from &#x27;@angular/fire/storage&#x27;;
import { UserService } from &#x27;./user.service&#x27;;
import { DomSanitizer, SafeResourceUrl } from &#x27;@angular/platform-browser&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;
})
export class StorageService implements OnInit {
  private readonly storage: Storage &#x3D; inject(Storage);
  sanitizer: DomSanitizer &#x3D; inject(DomSanitizer);
  userService: UserService &#x3D; inject(UserService);
  selectedAvatar!: string;
  files!: FileList;
  filesTextarea!: FileList;
  filesTextareaThread!: FileList;
  fileName!: string | undefined;
  fileNameTextarea!: string | undefined;
  fileNameTextareaThread!: string | undefined;
  fileUrl!: any;
  fileUrlTextarea!: SafeResourceUrl | string | ArrayBuffer | null;
  fileUrlTextareaThread!: SafeResourceUrl | string | ArrayBuffer | null;
  pdfUrl!: SafeResourceUrl | null;
  pdfUrlThread!: SafeResourceUrl | null;
  downloadUrl!: string;
  downloadUrlThread!: string;
  uploadedFileType!: string;
  uploadedFileTypeThread!: string;
  fileSizeToBig: boolean &#x3D; false;
  wrongFileType: boolean &#x3D; false;
  fileSizeToBigThread: boolean &#x3D; false;
  avatars: string[] &#x3D; [
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile2.svg?alt&#x3D;media&amp;token&#x3D;fdc78ec8-f201-4138-8447-d49c957ba67a&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile1.svg?alt&#x3D;media&amp;token&#x3D;e8652777-3f75-4517-9789-e3b24ef87820&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile6.svg?alt&#x3D;media&amp;token&#x3D;f7827bc5-1cd3-499d-be4e-2e748a170699&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile4.svg?alt&#x3D;media&amp;token&#x3D;104a104e-712c-4d89-99c8-5c6d6eeb381b&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile5.svg?alt&#x3D;media&amp;token&#x3D;25935b79-8ce7-4f23-9d2e-a82b95adfbc3&#x27;,
    &#x27;https://firebasestorage.googleapis.com/v0/b/da-bubble-e6d79.appspot.com/o/template%2Fprofile3.svg?alt&#x3D;media&amp;token&#x3D;7bd92926-13d9-476b-8c39-fde34aa7044e&#x27;
  ];

  constructor() { }

  ngOnInit() {
    this.avatars &#x3D; this.getAvatars();
  }

  /**
   * Retrieves the list of avatars.
   * @return {string[]} The array of avatar paths.
   */
  getAvatars(): string[] {
    return this.avatars;
  }

  /**
   * The function &#x60;onFileSelected&#x60; checks if a selected file exceeds a certain size limit and sets the
   * file name and URL if it is valid.
   * @param {HTMLInputElement} input - The &#x60;onFileSelected&#x60; function takes an &#x60;HTMLInputElement&#x60; as input
   * parameter. This function is used to handle file selection events, such as when a user selects a file.
   * @returns If the file selected exceeds the size of 1024kb, the function will return a message
   * indicating that the file exceeds the size limit. If there are no files selected or the selected file
   * is not valid, the function will return without further action. If a valid file is selected, the
   * function will set the selected file to be used in the application.
   */
  onFileSelected(input: HTMLInputElement) {
    if (input.files?.item(0)?.size! &gt; 1048576) {
      return;
    }
    if (!input.files || (input.files &amp;&amp; !this.isValid(input))) {
      return;
    }
    this.files &#x3D; input.files;
    this.fileName &#x3D; this.files.item(0)?.name;
    this.fileUrl &#x3D; this.files.item(0);
  }

  /**
   * The function &#x60;onFileSelectedTextarea&#x60; handles file selection in a textarea input, checks file size
   * and type, and calls appropriate handling functions based on the file type.
   * @param {HTMLInputElement} input - The &#x60;onFileSelectedTextarea&#x60; function takes an HTMLInputElement as
   * input. This function is responsible for handling file selection in a textarea element. 
   * @returns The function &#x60;onFileSelectedTextarea&#x60; returns either nothing (undefined) or early exits
   * with a &#x60;return&#x60; statement if certain conditions are met. 
   */
  onFileSelectedTextarea(input: HTMLInputElement) {
    const file &#x3D; input.files?.item(0);
    if (!file || !this.isValid(input)) {
      return;
    }
    if (file.size &gt; 1048576) {
      this.fileSizeToBig &#x3D; true;
      return;
    }
    if (input.files) {
      this.filesTextarea &#x3D; input.files;
      this.fileSizeToBig &#x3D; false;
    }
    this.fileNameTextarea &#x3D; file.name;
    if (this.isPdf(file)) {
      this.handlePdfFile(file);
    } else {
      this.handleImageFile(file);
    }
  }


  /**
   * The function &#x60;onFileSelectedTextareaForThread&#x60; handles file selection for a textarea input, checking
   * file size and type before processing the file accordingly.
   * @param {HTMLInputElement} input -  This function is responsible for handling file selection in a
   * textarea for a thread. 
   * @returns If the file is not valid or if the file size is too big (greater than 1MB), the function
   * will return early without setting any properties or handling the file further. If the file is valid
   * and within size limits, it will set the &#x60;filesTextareaThread&#x60; property to the selected file, reset
   * the &#x60;fileSizeToBigThread&#x60; flag, set the &#x60;fileNameTextareaThread&#x60; property
   */
  onFileSelectedTextareaForThread(input: HTMLInputElement) {
    const file &#x3D; input.files?.item(0);
    if (!file || !this.isValid(input)) {
      return;
    }
    if (file.size &gt; 1048576) {
      this.fileSizeToBigThread &#x3D; true;
      return;
    }
    if (input.files) {
      this.filesTextareaThread &#x3D; input.files;
      this.fileSizeToBigThread &#x3D; false;
    }
    this.fileNameTextareaThread &#x3D; file.name;
    if (this.isPdf(file)) {
      this.handlePdfFileForThread(file);
    } else {
      this.handleImageFileForThread(file);
    }
  }


  /**
   * The function &#x60;handlePdfFileForThread&#x60; sets the PDF URL for a given file and updates the file URL for
   * a textarea.
   * @param {File} file - The &#x60;file&#x60; parameter in the &#x60;handlePdfFileForThread&#x60; function is of type
   * &#x60;File&#x60;, which represents a file from the user&#x27;s system. In this context, it is likely a PDF file
   * that is being processed within the function.
   */
  private handlePdfFileForThread(file: File) {
    this.pdfUrlThread &#x3D; this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(file));
    this.fileUrlTextareaThread &#x3D; &#x27;assets/img/pdfDefault.jpg&#x27;;
  }


  /**
   * The function &#x60;handleImageFileForThread&#x60; reads an image file and sets the result as a data URL in a
   * textarea.
   * @param {File} file - The &#x60;file&#x60; parameter in the &#x60;handleImageFileForThread&#x60; function is of type
   * &#x60;File&#x60;, which represents a file from the user&#x27;s system. In this case, it is being used to read the
   * contents of an image file and convert it to a data URL using a &#x60;FileReader&#x60;.
   */
  private handleImageFileForThread(file: File) {
    const reader &#x3D; new FileReader();
    reader.onload &#x3D; (e) &#x3D;&gt; {
      const result &#x3D; e.target?.result;
      if (result !&#x3D;&#x3D; undefined) {
        this.fileUrlTextareaThread &#x3D; result;
      }
    };
    reader.readAsDataURL(file);
  }

/**
 * This function uploads a file to storage and retrieves the download URL for a specific thread based
 * on the original message ID.
 * @param {string} originalMessageId - The &#x60;originalMessageId&#x60; parameter is a string that represents
 * the unique identifier of the message thread to which the file will be uploaded.
 * @returns If &#x60;this.wrongFileType&#x60; or &#x60;this.fileSizeToBigThread&#x60; is true, nothing will be returned.
 * Otherwise, the function will upload a file to a storage location and retrieve the download URL for
 * that file.
 */
  async uploadFileAndGetUrlForThread(originalMessageId: string) {
    if (this.wrongFileType || this.fileSizeToBigThread) {
      return;
    }
    const file &#x3D; this.filesTextareaThread.item(0) as File;
    this.uploadedFileTypeThread &#x3D; file.type;
    const storageRef &#x3D; ref(this.storage, &#x60;${originalMessageId}/${file.name}&#x60;);
    await uploadBytesResumable(storageRef, file);
    await getDownloadURL(storageRef).then((url) &#x3D;&gt; {
      this.downloadUrlThread &#x3D; url;
    });
  }

/**
 * The function &#x60;handlePdfFile&#x60; sets the PDF URL and a default image URL for a given file.
 * @param {File} file - The &#x60;file&#x60; parameter in the &#x60;handlePdfFile&#x60; function is of type &#x60;File&#x60;, which
 * represents a file from the user&#x27;s system. In this context, it is used to handle a PDF file that is
 * passed to the function for processing.
 */
  private handlePdfFile(file: File) {
    this.pdfUrl &#x3D; this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(file));
    this.fileUrlTextarea &#x3D; &#x27;assets/img/pdfDefault.jpg&#x27;;
  }

/**
 * The function &#x60;handleImageFile&#x60; reads an image file using FileReader and sets the result as the value
 * of &#x60;fileUrlTextarea&#x60;.
 * @param {File} file - The &#x60;file&#x60; parameter in the &#x60;handleImageFile&#x60; function is of type &#x60;File&#x60;, which
 * represents a file from the user&#x27;s system that is being processed.
 */
  private handleImageFile(file: File) {
    const reader &#x3D; new FileReader();
    reader.onload &#x3D; (e) &#x3D;&gt; {
      const result &#x3D; e.target?.result;
      if (result !&#x3D;&#x3D; undefined) {
        this.fileUrlTextarea &#x3D; result;
      }
    };
    reader.readAsDataURL(file);
  }

/**
 * The function &#x60;isImage&#x60; checks if a given file is an image based on its type.
 * @param {File | null | undefined} file - The &#x60;file&#x60; parameter in the &#x60;isImage&#x60; function is of type
 * &#x60;File&#x60; or &#x60;null&#x60; or &#x60;undefined&#x60;.
 * @returns A boolean value is being returned, indicating whether the file is an image or not.
 */
  isImage(file: File | null | undefined): boolean {
    if (!file) return false;
    const fileType &#x3D; file.type.split(&#x27;/&#x27;)[0];
    return fileType &#x3D;&#x3D;&#x3D; &#x27;image&#x27;;
  }

/**
 * The function &#x60;isPdf&#x60; checks if a given file is a PDF file based on its type.
 * @param {File | null | undefined} file - The &#x60;file&#x60; parameter in the &#x60;isPdf&#x60; function is of type
 * &#x60;File&#x60; or may be &#x60;null&#x60; or &#x60;undefined&#x60;.
 * @returns The function &#x60;isPdf&#x60; returns a boolean value indicating whether the file is a PDF file or
 * not.
 */
  isPdf(file: File | null | undefined): boolean {
    if (!file) return false;
    const fileType &#x3D; file.type;
    return fileType &#x3D;&#x3D;&#x3D; &#x27;application/pdf&#x27;;
  }

/**
 * The function &#x60;abortUploadForThread&#x60; clears the &#x60;fileNameTextareaThread&#x60; and &#x60;fileUrlTextareaThread&#x60;
 * variables.
 */
  abortUploadForThread() {
    this.fileNameTextareaThread &#x3D; &#x27;&#x27;;
    this.fileUrlTextareaThread &#x3D; &#x27;&#x27;;
  }

/**
 * The &#x60;abortUpload&#x60; function clears the &#x60;fileNameTextarea&#x60; and &#x60;fileUrlTextarea&#x60; values.
 */
  abortUpload() {
    this.fileNameTextarea &#x3D; &#x27;&#x27;;
    this.fileUrlTextarea &#x3D; &#x27;&#x27;;
  }

/**
 * The function &#x60;uploadFileAndGetUrl&#x60; uploads a file to a specified storage location and retrieves the
 * download URL.
 * @param {string} channelId - The &#x60;channelId&#x60; parameter in the &#x60;uploadFileAndGetUrl&#x60; function is a
 * string that represents the unique identifier of the channel where the file will be uploaded.
 * @returns If &#x60;this.wrongFileType&#x60; or &#x60;this.fileSizeToBig&#x60; is true, nothing will be returned as the
 * function will exit early. If neither of those conditions are met, the function will upload a file to
 * a storage location and retrieve the download URL for that file.
 */
  async uploadFileAndGetUrl(channelId: string) {
    if (this.wrongFileType || this.fileSizeToBig) {
      return;
    }
    const file &#x3D; this.filesTextarea.item(0) as File;
    this.uploadedFileType &#x3D; file.type;
    const storageRef &#x3D; ref(this.storage, &#x60;${channelId}/${file.name}&#x60;);
    await uploadBytesResumable(storageRef, file);
    await getDownloadURL(storageRef).then((url) &#x3D;&gt; {
      this.downloadUrl &#x3D; url
    });
  }


  /**
   * The function &#x60;isValid&#x60; checks if the file uploaded through an HTML input element is a valid image
   * file and logs the file size in bytes.
   * @param {HTMLInputElement} input - The &#x60;isValid&#x60; function takes an &#x60;HTMLInputElement&#x60; as input. This
   * input is expected to be a file input element where the user can select a file. The function then
   * checks if the selected file is a valid image file
   * @returns The function &#x60;isValid&#x60; is returning a boolean value based on whether the file type of the
   * input element is &#x27;jpeg&#x27;, &#x27;jpg&#x27;, &#x27;png&#x27;, or &#x27;gif&#x27;.
   */
  isValid(input: HTMLInputElement) {
    let dataType &#x3D; input.files?.item(0)?.type
    dataType &#x3D; dataType?.split(&#x27;/&#x27;).pop();
    if (dataType !&#x3D;&#x3D; &quot;jpeg&quot; &amp;&amp; dataType !&#x3D;&#x3D; &quot;jpg&quot; &amp;&amp; dataType !&#x3D;&#x3D; &quot;pdf&quot;) {
      this.wrongFileType &#x3D; true;
      return
    } else {
      this.wrongFileType &#x3D; false;
      return (dataType &#x3D;&#x3D;&#x3D; &#x27;jpeg&#x27; || dataType &#x3D;&#x3D;&#x3D; &#x27;jpg&#x27; || dataType &#x3D;&#x3D;&#x3D; &#x27;pdf&#x27;)
    }
  }

  /**
   * The &#x60;uploadFile&#x60; function asynchronously uploads files to a storage location and updates the user&#x27;s
   * profile picture URL.
   * @param {string} uid - The &#x60;uid&#x60; parameter in the &#x60;uploadFile&#x60; function is a string representing the
   * user ID.
   * @returns If the &#x60;this.files&#x60; variable is &#x60;undefined&#x60;, the function will return early without
   * executing the file upload logic.
   */
  async uploadFile(uid: string) {
    if (this.files &#x3D;&#x3D; undefined) return
    for (let i &#x3D; 0; i &lt; this.files.length; i++) {
      const file &#x3D; this.files.item(i);
      if (file) {
        const storageRef &#x3D; ref(this.storage, uid + &#x27;/&#x27; + &#x27;profile&#x27;);
        await uploadBytesResumable(storageRef, file);
        await getDownloadURL(storageRef).then((url) &#x3D;&gt; {
          this.userService.createUserInfo.profilePicture &#x3D; url;
        })
      }
    }
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'StorageService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
