<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>da-bubble documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">da-bubble documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ChannelService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/services/channel.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#channelChanged$" >channelChanged$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#channelChangedSource" >channelChangedSource</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#channelMsg" >channelMsg</a>
                            </li>
                            <li>
                                <a href="#channelMsgData" >channelMsgData</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#closeAndFocusChannelTextarea" >closeAndFocusChannelTextarea</a>
                            </li>
                            <li>
                                <a href="#currentChannel" >currentChannel</a>
                            </li>
                            <li>
                                <a href="#currentChannelUsers" >currentChannelUsers</a>
                            </li>
                            <li>
                                <a href="#currentMessagesId" >currentMessagesId</a>
                            </li>
                            <li>
                                <a href="#data$" >data$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#dataSubject" >dataSubject</a>
                            </li>
                            <li>
                                <a href="#fileData" >fileData</a>
                            </li>
                            <li>
                                <a href="#firestore" >firestore</a>
                            </li>
                            <li>
                                <a href="#isSubscribed" >isSubscribed</a>
                            </li>
                            <li>
                                <a href="#messages" >messages</a>
                            </li>
                            <li>
                                <a href="#messagesLoaded" >messagesLoaded</a>
                            </li>
                            <li>
                                <a href="#messagesTimestamp" >messagesTimestamp</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#newChannel" >newChannel</a>
                            </li>
                            <li>
                                <a href="#oppositeMessagesId" >oppositeMessagesId</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#privateMsg" >privateMsg</a>
                            </li>
                            <li>
                                <a href="#privateMsgData" >privateMsgData</a>
                            </li>
                            <li>
                                <a href="#privateMsgIds" >privateMsgIds</a>
                            </li>
                            <li>
                                <a href="#storageService" >storageService</a>
                            </li>
                            <li>
                                <a href="#threadClosed$" >threadClosed$</a>
                            </li>
                            <li>
                                <a href="#unsub" >unsub</a>
                            </li>
                            <li>
                                <a href="#userService" >userService</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#changeData" >changeData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#chooseChannelType" >chooseChannelType</a>
                            </li>
                            <li>
                                <a href="#clearFileData" >clearFileData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createChannelMessage" >createChannelMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createDirectMessage" >createDirectMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createNewChannel" >createNewChannel</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getChannelId" >getChannelId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getDmId" >getDmId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getOppositeDmId" >getOppositeDmId</a>
                            </li>
                            <li>
                                <a href="#refChannelMessage" >refChannelMessage</a>
                            </li>
                            <li>
                                <a href="#refChannels" >refChannels</a>
                            </li>
                            <li>
                                <a href="#refCreateChannelMsg" >refCreateChannelMsg</a>
                            </li>
                            <li>
                                <a href="#refCreateDM" >refCreateDM</a>
                            </li>
                            <li>
                                <a href="#refDirectMessage" >refDirectMessage</a>
                            </li>
                            <li>
                                <a href="#refDirectMessageData" >refDirectMessageData</a>
                            </li>
                            <li>
                                <a href="#refOppositeDirectMessage" >refOppositeDirectMessage</a>
                            </li>
                            <li>
                                <a href="#refQueryChannelMsg" >refQueryChannelMsg</a>
                            </li>
                            <li>
                                <a href="#refQueryOpposite" >refQueryOpposite</a>
                            </li>
                            <li>
                                <a href="#refQuerySelf" >refQuerySelf</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#refreshChannelData" >refreshChannelData</a>
                            </li>
                            <li>
                                <a href="#resetMessageType" >resetMessageType</a>
                            </li>
                            <li>
                                <a href="#restartListener" >restartListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#retrieveCurrentChannelUsers" >retrieveCurrentChannelUsers</a>
                            </li>
                            <li>
                                <a href="#startListenerChannel" >startListenerChannel</a>
                            </li>
                            <li>
                                <a href="#startListenerDm" >startListenerDm</a>
                            </li>
                            <li>
                                <a href="#stopListener" >stopListener</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateChannelDescription" >updateChannelDescription</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateChannelMessage" >updateChannelMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateChannelTitle" >updateChannelTitle</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateDirectMessage" >updateDirectMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateUserDm" >updateUserDm</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor()</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/shared/services/channel.service.ts:33</a></div>
                            </td>
                        </tr>

            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="changeData"></a>
                    <span class="name">
                        <span ><b>changeData</b></span>
                        <a href="#changeData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>changeData(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="44"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:44</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>changeData</code> function in TypeScript updates the data and restarts the listener.
This string is then used to update the data subject using <code>this.dataSubject.next(data)</code> and to
restart a listener using <code>this.restartListener(data)</code>.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>data</code> parameter is a string that is passed to the <code>changeData</code> method.
This string is then used to update the data subject using <code>this.dataSubject.next(data)</code> and to
restart a listener using <code>this.restartListener(data)</code>.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chooseChannelType"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>chooseChannelType</b></span>
                        <a href="#chooseChannelType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>chooseChannelType(dm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, data?: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="155"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:155</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>chooseChannelType</code> sets a boolean flag based on whether the message is a direct
message or a channel message, and assigns user data if it is a direct message.
should be sent as a direct message (private message) or not.
<code>chooseChannelType</code> function. It is used to pass user data when the <code>dm</code> parameter is set to true,
indicating that a private message channel should be used.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>dm</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>dm</code> parameter is a boolean value that indicates whether the message
should be sent as a direct message (private message) or not.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>user</code> parameter is of type <code>DocumentData</code> and is optional in the
<code>chooseChannelType</code> function. It is used to pass user data when the <code>dm</code> parameter is set to true,
indicating that a private message channel should be used.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearFileData"></a>
                    <span class="name">
                        <span ><b>clearFileData</b></span>
                        <a href="#clearFileData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearFileData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="268"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:268</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The clearFileData function resets file data and aborts any ongoing upload process.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createChannelMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createChannelMessage</b></span>
                        <a href="#createChannelMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createChannelMessage(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="251"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:251</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>createChannelMessage</code> function asynchronously adds a document to a Firestore collection and
updates another document with the generated ID.
contains the data to be added to a Firestore document. This object will be passed to the <code>addDoc</code>
function to create a new document in the Firestore database.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>obj</code> parameter in the <code>createChannelMessage</code> function is an object that
contains the data to be added to a Firestore document. This object will be passed to the <code>addDoc</code>
function to create a new document in the Firestore database.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createDirectMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createDirectMessage</b></span>
                        <a href="#createDirectMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createDirectMessage(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="229"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:229</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>createDirectMessage</code> function asynchronously creates a direct message between two users.
data or message object that you want to add to a direct message conversation. This object could
contain information such as the message content, sender details, timestamp, etc.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>obj</code> parameter in the <code>createDirectMessage</code> function likely represents the
data or message object that you want to add to a direct message conversation. This object could
contain information such as the message content, sender details, timestamp, etc.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createNewChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createNewChannel</b></span>
                        <a href="#createNewChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createNewChannel(channelData: <a href="../interfaces/ChannelInfo.html" target="_self">ChannelInfo</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="131"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:131</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function creates a new channel in Firestore and adds the channel ID to the user&#39;s list of
channels.
about a new channel that needs to be created. It likely includes details such as the channel name,
description, creator, and list of users who will be part of the channel.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelData</td>
                                            <td>
                                                            <code><a href="../interfaces/ChannelInfo.html" target="_self" >ChannelInfo</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>channelData</code> parameter is an object containing information
about a new channel that needs to be created. It likely includes details such as the channel name,
description, creator, and list of users who will be part of the channel.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChannelId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getChannelId</b></span>
                        <a href="#getChannelId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getChannelId()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="202"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:202</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>getChannelId</code> function asynchronously retrieves the ID of a channel message and then calls
another function to update the data based on that ID.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDmId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getDmId</b></span>
                        <a href="#getDmId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getDmId()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="189"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:189</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>getDmId</code> asynchronously retrieves a document ID based on a specific condition from a
Firestore collection.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOppositeDmId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getOppositeDmId</b></span>
                        <a href="#getOppositeDmId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getOppositeDmId()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="214"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:214</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>getDmId</code> asynchronously retrieves a document ID based on a specific condition from a
Firestore collection.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refChannelMessage"></a>
                    <span class="name">
                        <span ><b>refChannelMessage</b></span>
                        <a href="#refChannelMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refChannelMessage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="428"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:428</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refChannels"></a>
                    <span class="name">
                        <span ><b>refChannels</b></span>
                        <a href="#refChannels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refChannels()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="397"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:397</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Firestore collection reference for Channels</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>collection</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refCreateChannelMsg"></a>
                    <span class="name">
                        <span ><b>refCreateChannelMsg</b></span>
                        <a href="#refCreateChannelMsg"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refCreateChannelMsg()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="424"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:424</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refCreateDM"></a>
                    <span class="name">
                        <span ><b>refCreateDM</b></span>
                        <a href="#refCreateDM"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refCreateDM(sender: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, receiver: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="413"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:413</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>sender</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>receiver</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refDirectMessage"></a>
                    <span class="name">
                        <span ><b>refDirectMessage</b></span>
                        <a href="#refDirectMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refDirectMessage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="401"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:401</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refDirectMessageData"></a>
                    <span class="name">
                        <span ><b>refDirectMessageData</b></span>
                        <a href="#refDirectMessageData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refDirectMessageData(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="409"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:409</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refOppositeDirectMessage"></a>
                    <span class="name">
                        <span ><b>refOppositeDirectMessage</b></span>
                        <a href="#refOppositeDirectMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refOppositeDirectMessage(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="405"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:405</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refQueryChannelMsg"></a>
                    <span class="name">
                        <span ><b>refQueryChannelMsg</b></span>
                        <a href="#refQueryChannelMsg"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refQueryChannelMsg()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="432"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:432</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refQueryOpposite"></a>
                    <span class="name">
                        <span ><b>refQueryOpposite</b></span>
                        <a href="#refQueryOpposite"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refQueryOpposite()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="420"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:420</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refQuerySelf"></a>
                    <span class="name">
                        <span ><b>refQuerySelf</b></span>
                        <a href="#refQuerySelf"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refQuerySelf()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="416"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:416</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refreshChannelData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>refreshChannelData</b></span>
                        <a href="#refreshChannelData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>refreshChannelData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="387"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:387</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>refreshChannelData</code> asynchronously retrieves channel data from Firestore and updates
the current channel users.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetMessageType"></a>
                    <span class="name">
                        <span ><b>resetMessageType</b></span>
                        <a href="#resetMessageType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetMessageType()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="175"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:175</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>resetMessageType</code> resets various message-related properties to their default values.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="restartListener"></a>
                    <span class="name">
                        <span ><b>restartListener</b></span>
                        <a href="#restartListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>restartListener(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="115"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:115</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>restartListener</code> function stops the current listener and then starts a new listener with the
provided data.
parameter is used to restart the listener by stopping it and then starting it again with the new
data provided.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>restartListener</code> function takes a <code>data</code> parameter of type string. This
parameter is used to restart the listener by stopping it and then starting it again with the new
data provided.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="retrieveCurrentChannelUsers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>retrieveCurrentChannelUsers</b></span>
                        <a href="#retrieveCurrentChannelUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>retrieveCurrentChannelUsers()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="374"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:374</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>retrieveCurrentChannelUsers</code> asynchronously retrieves user data for the current
channel from a Firestore collection.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startListenerChannel"></a>
                    <span class="name">
                        <span ><b>startListenerChannel</b></span>
                        <a href="#startListenerChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>startListenerChannel(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="83"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:83</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>startListenerChannel</code> sets up a listener for real-time updates on a Firestore query
and populates an array with the retrieved data.
listener for changes in a Firestore collection.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>the <code>startListenerChannel</code> function is used to set up a
listener for changes in a Firestore collection.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startListenerDm"></a>
                    <span class="name">
                        <span ><b>startListenerDm</b></span>
                        <a href="#startListenerDm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>startListenerDm(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="62"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:62</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>startListener</code> function subscribes to real-time updates and sorts the
received messages by timestamp.
updates for direct messages based on the provided <code>data</code>.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>the <code>startListener</code> function is used to subscribe to real-time
updates for direct messages based on the provided <code>data</code>.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopListener"></a>
                    <span class="name">
                        <span ><b>stopListener</b></span>
                        <a href="#stopListener"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>stopListener()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="101"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:101</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>stopListener</code> function checks if a subscription is active and unsubscribes if it is.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateChannelDescription"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateChannelDescription</b></span>
                        <a href="#updateChannelDescription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateChannelDescription(description: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="343"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:343</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>updateChannelDescription</code> updates the description of a channel in a Firestore database
and then refreshes the channel data.
in the Firestore database.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>description</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>a string that represents the new description that will be set for a channel
in the Firestore database.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateChannelMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateChannelMessage</b></span>
                        <a href="#updateChannelMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateChannelMessage(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="312"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:312</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>updateChannelMessage</code> function asynchronously updates a channel message in a Firestore database
based on a matching timestamp.
information related to a message that needs to be updated in a channel. This information may include
the timestamp of the message, the new emoji to be added or updated, and the new message content.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>data</code> parameter in the <code>updateChannelMessage</code> function likely contains
information related to a message that needs to be updated in a channel. This information may include
the timestamp of the message, the new emoji to be added or updated, and the new message content.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateChannelTitle"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateChannelTitle</b></span>
                        <a href="#updateChannelTitle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateChannelTitle(title: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="330"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:330</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The <code>updateChannelTitle</code> function updates the title of a channel in a Firestore database and then
refreshes the channel data.
represents the new title that you want to set for a channel.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>title</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>title</code> parameter in the <code>updateChannelTitle</code> function is a string that
represents the new title that you want to set for a channel.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateDirectMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateDirectMessage</b></span>
                        <a href="#updateDirectMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateDirectMessage(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="281"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:281</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>The function <code>updateDirectMessage</code> asynchronously updates direct messages based on timestamp and
user IDs.
direct message in a chat application. It first retrieves the IDs for the current user&#39;s direct
messages and the opposite user&#39;s direct messages. Then, it queries the Firestore database to find
the specific message based on the timestamp provided.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>updateDirectMessage</code> function is an asynchronous function that updates a
direct message in a chat application. It first retrieves the IDs for the current user&#39;s direct
messages and the opposite user&#39;s direct messages. Then, it queries the Firestore database to find
the specific message based on the timestamp provided.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateUserDm"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateUserDm</b></span>
                        <a href="#updateUserDm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateUserDm(userInfo: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="357"
                                    class="link-to-prism">src/app/shared/services/channel.service.ts:357</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>This function updates direct messages between users if they do not already exist.
updates direct messages between users in a Firestore database. It checks if a direct message entry
already exists between the current user and the target user. If it doesn&#39;t exist, it adds entries
for both users to establish a direct message</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userInfo</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The <code>updateUserDm</code> function you provided is an asynchronous function that
updates direct messages between users in a Firestore database. It checks if a direct message entry
already exists between the current user and the target user. If it doesn&#39;t exist, it adds entries
for both users to establish a direct message</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="channelChanged$"></a>
                    <span class="name">
                        <span ><b>channelChanged$</b></span>
                        <a href="#channelChanged$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.channelChangedSource.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">src/app/shared/services/channel.service.ts:54</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="channelChangedSource"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>channelChangedSource</b></span>
                        <a href="#channelChangedSource"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;void&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/app/shared/services/channel.service.ts:53</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="channelMsg"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>channelMsg</b></span>
                        <a href="#channelMsg"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/shared/services/channel.service.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="channelMsgData"></a>
                    <span class="name">
                        <span ><b>channelMsgData</b></span>
                        <a href="#channelMsgData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/shared/services/channel.service.ts:24</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeAndFocusChannelTextarea"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>closeAndFocusChannelTextarea</b></span>
                        <a href="#closeAndFocusChannelTextarea"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;void&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">src/app/shared/services/channel.service.ts:50</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentChannel"></a>
                    <span class="name">
                        <span ><b>currentChannel</b></span>
                        <a href="#currentChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/shared/services/channel.service.ts:32</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentChannelUsers"></a>
                    <span class="name">
                        <span ><b>currentChannelUsers</b></span>
                        <a href="#currentChannelUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>any[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/shared/services/channel.service.ts:31</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentMessagesId"></a>
                    <span class="name">
                        <span ><b>currentMessagesId</b></span>
                        <a href="#currentMessagesId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/shared/services/channel.service.ts:25</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="data$"></a>
                    <span class="name">
                        <span ><b>data$</b></span>
                        <a href="#data$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.dataSubject.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/shared/services/channel.service.ts:16</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dataSubject"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>dataSubject</b></span>
                        <a href="#dataSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;string&gt;(&#x27;&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/shared/services/channel.service.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fileData"></a>
                    <span class="name">
                        <span ><b>fileData</b></span>
                        <a href="#fileData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{ src: &#x27;&#x27;, name: &#x27;&#x27;, type: &#x27;&#x27; }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/shared/services/channel.service.ts:33</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="firestore"></a>
                    <span class="name">
                        <span ><b>firestore</b></span>
                        <a href="#firestore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Firestore</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(Firestore)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/app/shared/services/channel.service.ts:12</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSubscribed"></a>
                    <span class="name">
                        <span ><b>isSubscribed</b></span>
                        <a href="#isSubscribed"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/shared/services/channel.service.ts:17</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messages"></a>
                    <span class="name">
                        <span ><b>messages</b></span>
                        <a href="#messages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>any[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/shared/services/channel.service.ts:27</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messagesLoaded"></a>
                    <span class="name">
                        <span ><b>messagesLoaded</b></span>
                        <a href="#messagesLoaded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/shared/services/channel.service.ts:29</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messagesTimestamp"></a>
                    <span class="name">
                        <span ><b>messagesTimestamp</b></span>
                        <a href="#messagesTimestamp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>any[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/shared/services/channel.service.ts:28</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newChannel"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>newChannel</b></span>
                        <a href="#newChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/ChannelInfo.html" target="_self" >ChannelInfo</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/shared/services/channel.service.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="oppositeMessagesId"></a>
                    <span class="name">
                        <span ><b>oppositeMessagesId</b></span>
                        <a href="#oppositeMessagesId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/shared/services/channel.service.ts:26</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="privateMsg"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>privateMsg</b></span>
                        <a href="#privateMsg"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/shared/services/channel.service.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="privateMsgData"></a>
                    <span class="name">
                        <span ><b>privateMsgData</b></span>
                        <a href="#privateMsgData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/shared/services/channel.service.ts:23</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="privateMsgIds"></a>
                    <span class="name">
                        <span ><b>privateMsgIds</b></span>
                        <a href="#privateMsgIds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/shared/services/channel.service.ts:30</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="storageService"></a>
                    <span class="name">
                        <span ><b>storageService</b></span>
                        <a href="#storageService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/StorageService.html" target="_self" >StorageService</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(StorageService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/shared/services/channel.service.ts:14</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="threadClosed$"></a>
                    <span class="name">
                        <span ><b>threadClosed$</b></span>
                        <a href="#threadClosed$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.closeAndFocusChannelTextarea.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/app/shared/services/channel.service.ts:51</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsub"></a>
                    <span class="name">
                        <span ><b>unsub</b></span>
                        <a href="#unsub"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Unsubscribe</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/shared/services/channel.service.ts:19</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userService"></a>
                    <span class="name">
                        <span ><b>userService</b></span>
                        <a href="#userService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(UserService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/shared/services/channel.service.ts:13</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, inject } from &#x27;@angular/core&#x27;;
import { Firestore, Unsubscribe, addDoc, collection, doc, docData, getDoc, getDocs, onSnapshot, query, updateDoc } from &#x27;@angular/fire/firestore&#x27;;
import { ChannelInfo } from &#x27;../interfaces/channelinfo&#x27;;
import { BehaviorSubject, Subject } from &#x27;rxjs&#x27;;
import { UserService } from &#x27;./user.service&#x27;;
import { EmojiService } from &#x27;./emoji.service&#x27;;
import { StorageService } from &#x27;../../shared/services/storage.service&#x27;;
@Injectable({
  providedIn: &#x27;root&#x27;
})
export class ChannelService {
  firestore: Firestore &#x3D; inject(Firestore);
  userService: UserService &#x3D; inject(UserService);
  storageService: StorageService &#x3D; inject(StorageService);
  private dataSubject &#x3D; new BehaviorSubject&lt;string&gt;(&#x27;&#x27;);
  data$ &#x3D; this.dataSubject.asObservable();
  isSubscribed: boolean &#x3D; false;

  unsub!: Unsubscribe;
  channelMsg?: boolean;
  privateMsg?: boolean;
  newChannel?: ChannelInfo
  privateMsgData: any;
  channelMsgData: any;
  currentMessagesId!: string;
  oppositeMessagesId!: string;
  messages: any[] &#x3D; [];
  messagesTimestamp: any[] &#x3D; [];
  messagesLoaded: boolean &#x3D; false;
  privateMsgIds: string[] &#x3D; [];
  currentChannelUsers: any[] &#x3D; [];
  currentChannel!: string;
  fileData: any &#x3D; { src: &#x27;&#x27;, name: &#x27;&#x27;, type: &#x27;&#x27; };
  constructor() {
    this.channelMsg &#x3D; false;
  }

  /**
   * The &#x60;changeData&#x60; function in TypeScript updates the data and restarts the listener.
   * @param {string} data - The &#x60;data&#x60; parameter is a string that is passed to the &#x60;changeData&#x60; method.
   * This string is then used to update the data subject using &#x60;this.dataSubject.next(data)&#x60; and to
   * restart a listener using &#x60;this.restartListener(data)&#x60;.
   */
  changeData(data: string) {
    this.dataSubject.next(data);
    this.restartListener(data);
    this.channelChangedSource.next();
  }

  public closeAndFocusChannelTextarea &#x3D; new Subject&lt;void&gt;();
  threadClosed$ &#x3D; this.closeAndFocusChannelTextarea.asObservable();

  private channelChangedSource &#x3D; new Subject&lt;void&gt;();
  channelChanged$ &#x3D; this.channelChangedSource.asObservable();

  /**
   * The &#x60;startListener&#x60; function subscribes to real-time updates and sorts the
   * received messages by timestamp.
   * @param {string} data -  the &#x60;startListener&#x60; function is used to subscribe to real-time
   * updates for direct messages based on the provided &#x60;data&#x60;.
   */
  startListenerDm(data: string) {
    if (this.isSubscribed)
      this.unsub();
    this.unsub &#x3D; onSnapshot(query(this.refDirectMessageData(data)), (querySnapshot) &#x3D;&gt; {
      this.messages &#x3D; [];
      this.messagesTimestamp &#x3D; [];
      querySnapshot.forEach(async (doc) &#x3D;&gt; {
        this.messages.unshift(doc.data())
        this.isSubscribed &#x3D; true;
      });
      this.messages.sort((a, b) &#x3D;&gt; a.timestamp - b.timestamp);
    });
    setTimeout(() &#x3D;&gt; { this.messagesLoaded &#x3D; true; }, 200);
  }

  /**
   * The function &#x60;startListenerChannel&#x60; sets up a listener for real-time updates on a Firestore query
   * and populates an array with the retrieved data.
   * @param {string} data - the &#x60;startListenerChannel&#x60; function is used to set up a
   * listener for changes in a Firestore collection.
   */
  startListenerChannel(data: string) {
    if (this.isSubscribed)
      this.unsub();
    this.unsub &#x3D; onSnapshot(query(this.refChannelMessage()), (querySnapshot) &#x3D;&gt; {
      this.messages &#x3D; [];
      this.messagesTimestamp &#x3D; [];
      querySnapshot.forEach(async (doc) &#x3D;&gt; {
        this.messages.unshift(doc.data())
        this.isSubscribed &#x3D; true;
      });
      this.messages.sort((a, b) &#x3D;&gt; a.timestamp - b.timestamp);
      this.messagesLoaded &#x3D; true;
    });
  }

  /**
   * The &#x60;stopListener&#x60; function checks if a subscription is active and unsubscribes if it is.
   */
  stopListener() {
    if (this.isSubscribed) {
      this.unsub();
      this.isSubscribed &#x3D; false;
    }
  }

  /**
   * The &#x60;restartListener&#x60; function stops the current listener and then starts a new listener with the
   * provided data.
   * @param {string} data - The &#x60;restartListener&#x60; function takes a &#x60;data&#x60; parameter of type string. This
   * parameter is used to restart the listener by stopping it and then starting it again with the new
   * data provided.
   */
  restartListener(data: string) {
    this.stopListener();
    if (this.privateMsg) {
      this.startListenerDm(data);
    } else if (this.channelMsg) {
      this.startListenerChannel(data);
    }
  }

  /**
   * The function creates a new channel in Firestore and adds the channel ID to the user&#x27;s list of
   * channels.
   * @param {ChannelInfo} channelData - The &#x60;channelData&#x60; parameter is an object containing information
   * about a new channel that needs to be created. It likely includes details such as the channel name,
   * description, creator, and list of users who will be part of the channel.
   */
  async createNewChannel(channelData: ChannelInfo) {
    await addDoc(collection(this.firestore, &quot;Channels&quot;), channelData)
      .then(async (docRef) &#x3D;&gt; {
        channelData.users.forEach(async user &#x3D;&gt; {
          const channelId &#x3D; { channelid: docRef.id }
          await addDoc(collection(this.firestore, &#x27;user&#x27;, user, &#x27;userchannels&#x27;), channelId)
        });
        await updateDoc(doc(this.firestore, &quot;Channels&quot;, docRef.id), {
          collection: docRef.id,
          creator: this.userService.userInfo.name,
          users: channelData.users
        });
      });
  }

  /**
   * The function &#x60;chooseChannelType&#x60; sets a boolean flag based on whether the message is a direct
   * message or a channel message, and assigns user data if it is a direct message.
   * @param {boolean} dm - The &#x60;dm&#x60; parameter is a boolean value that indicates whether the message
   * should be sent as a direct message (private message) or not.
   * @param {DocumentData} [data] - The &#x60;user&#x60; parameter is of type &#x60;DocumentData&#x60; and is optional in the
   * &#x60;chooseChannelType&#x60; function. It is used to pass user data when the &#x60;dm&#x60; parameter is set to true,
   * indicating that a private message channel should be used.
   */
  async chooseChannelType(dm: boolean, data?: any) {
    this.resetMessageType();
    dm ? this.privateMsg &#x3D; true : this.channelMsg &#x3D; true;
    this.currentChannel &#x3D; data.collection
    if (this.privateMsg) {
      this.privateMsgData &#x3D; data;
      this.messagesLoaded &#x3D; false;
      await this.getDmId();
      this.changeData(this.currentMessagesId);
    } else if (this.channelMsg) {
      this.channelMsgData &#x3D; data;
      this.messagesLoaded &#x3D; false;
      this.retrieveCurrentChannelUsers();
      this.getChannelId();
    }
  }

  /**
   * The function &#x60;resetMessageType&#x60; resets various message-related properties to their default values.
   */
  resetMessageType() {
    this.messagesLoaded &#x3D; false;
    this.privateMsg &#x3D; false;
    this.channelMsg &#x3D; false;
    this.currentMessagesId &#x3D; &#x27;&#x27;;
    this.oppositeMessagesId &#x3D; &#x27;&#x27;;
    this.privateMsgData &#x3D; [];
    this.messages &#x3D; [];
  }

  /**
   * The function &#x60;getDmId&#x60; asynchronously retrieves a document ID based on a specific condition from a
   * Firestore collection.
   */
  async getDmId() {
    const querySnapshot &#x3D; await getDocs(query(this.refDirectMessage()));
    querySnapshot.forEach(element &#x3D;&gt; {
      if (element.data()[&#x27;dmUserId&#x27;] &#x3D;&#x3D; this.privateMsgData.id) {
        this.currentMessagesId &#x3D; element.id
      }
    });
  }

  /**
   * The &#x60;getChannelId&#x60; function asynchronously retrieves the ID of a channel message and then calls
   * another function to update the data based on that ID.
   */
  async getChannelId() {
    const querySnapshot &#x3D; await getDocs(query(this.refChannelMessage()));
    querySnapshot.forEach(element &#x3D;&gt; {
      this.currentMessagesId &#x3D; element.id
    });
    this.changeData(this.currentMessagesId)
  }

  /**
   * The function &#x60;getDmId&#x60; asynchronously retrieves a document ID based on a specific condition from a
   * Firestore collection.
   */
  async getOppositeDmId() {
    const querySnapshot &#x3D; await getDocs(query(this.refOppositeDirectMessage(this.privateMsgData.id)));
    querySnapshot.forEach(element &#x3D;&gt; {
      if (element.data()[&#x27;dmUserId&#x27;] &#x3D;&#x3D; sessionStorage.getItem(&#x27;uid&#x27;)) {
        this.oppositeMessagesId &#x3D; element.id
      }
    });
  }

  /**
   * The &#x60;createDirectMessage&#x60; function asynchronously creates a direct message between two users.
   * @param {any} obj - The &#x60;obj&#x60; parameter in the &#x60;createDirectMessage&#x60; function likely represents the
   * data or message object that you want to add to a direct message conversation. This object could
   * contain information such as the message content, sender details, timestamp, etc.
   */
  async createDirectMessage(obj: any) {
    if (this.storageService.filesTextarea &amp;&amp; this.storageService.filesTextarea.length &gt; 0) {
      this.fileData.src &#x3D; this.storageService.downloadUrl;
      this.fileData.name &#x3D; this.storageService.fileNameTextarea;
      this.fileData.type &#x3D; this.storageService.uploadedFileType;
    }
    obj.uploadedFile &#x3D; this.fileData;
    await addDoc(this.refCreateDM(sessionStorage.getItem(&#x27;uid&#x27;) as string, this.currentMessagesId), obj);
    await this.getOppositeDmId();
    if (this.currentMessagesId !&#x3D; this.oppositeMessagesId) {
      await addDoc(this.refCreateDM(this.privateMsgData.id, this.oppositeMessagesId), obj);
    }
    this.clearFileData();
  }

  /**
   * The &#x60;createChannelMessage&#x60; function asynchronously adds a document to a Firestore collection and
   * updates another document with the generated ID.
   * @param {any} obj - The &#x60;obj&#x60; parameter in the &#x60;createChannelMessage&#x60; function is an object that
   * contains the data to be added to a Firestore document. This object will be passed to the &#x60;addDoc&#x60;
   * function to create a new document in the Firestore database.
   */
  async createChannelMessage(obj: any) {
    await addDoc(this.refCreateChannelMsg(), obj)
      .then(async (docRef) &#x3D;&gt; {
        if (this.storageService.filesTextarea &amp;&amp; this.storageService.filesTextarea.length &gt; 0) {
          this.fileData.src &#x3D; this.storageService.downloadUrl;
          this.fileData.name &#x3D; this.storageService.fileNameTextarea;
          this.fileData.type &#x3D; this.storageService.uploadedFileType;
          await updateDoc(doc(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection, &quot;messages&quot;, docRef.id),
            { uploadedFile: this.fileData });
        }
      });
    this.clearFileData();
  }

  /**
   * The clearFileData function resets file data and aborts any ongoing upload process.
   */
  clearFileData() {
    this.fileData &#x3D; { src: &#x27;&#x27;, name: &#x27;&#x27;, type: &#x27;&#x27; };
    this.storageService.abortUpload();
  }

  /**
   * The function &#x60;updateDirectMessage&#x60; asynchronously updates direct messages based on timestamp and
   * user IDs.
   * @param {any} data - The &#x60;updateDirectMessage&#x60; function is an asynchronous function that updates a
   * direct message in a chat application. It first retrieves the IDs for the current user&#x27;s direct
   * messages and the opposite user&#x27;s direct messages. Then, it queries the Firestore database to find
   * the specific message based on the timestamp provided.
   */
  async updateDirectMessage(data: any) {
    await this.getDmId();
    await this.getOppositeDmId();
    const querySnapshotSelf &#x3D; await getDocs(this.refQuerySelf());
    const querySnapshotOpposite &#x3D; await getDocs(this.refQueryOpposite());
    querySnapshotSelf.forEach(async (dataset) &#x3D;&gt; {
      if (data.timestamp &#x3D;&#x3D; dataset.data()[&#x27;timestamp&#x27;]) {
        await updateDoc(doc(this.firestore, &quot;user&quot;, sessionStorage.getItem(&#x27;uid&#x27;) as string, &#x27;directmessages&#x27;, this.currentMessagesId, &#x27;messages&#x27;, dataset.id), {
          emoji: data.emoji,
          message: data.message
        });
      }
    });
    querySnapshotOpposite.forEach(async (dataset) &#x3D;&gt; {
      if (data.timestamp &#x3D;&#x3D; dataset.data()[&#x27;timestamp&#x27;]) {
        await updateDoc(doc(this.firestore, &quot;user&quot;, this.privateMsgData.id, &#x27;directmessages&#x27;, this.oppositeMessagesId, &#x27;messages&#x27;, dataset.id), {
          emoji: data.emoji,
          message: data.message,
        });
      }
    });
    this.stopListener();
  }

  /**
   * The &#x60;updateChannelMessage&#x60; function asynchronously updates a channel message in a Firestore database
   * based on a matching timestamp.
   * @param {any} data - The &#x60;data&#x60; parameter in the &#x60;updateChannelMessage&#x60; function likely contains
   * information related to a message that needs to be updated in a channel. This information may include
   * the timestamp of the message, the new emoji to be added or updated, and the new message content.
   */
  async updateChannelMessage(data: any) {
    const querySnapshot &#x3D; await getDocs(this.refQueryChannelMsg());
    querySnapshot.forEach(async (dataset) &#x3D;&gt; {
      if (data.timestamp &#x3D;&#x3D; dataset.data()[&#x27;timestamp&#x27;]) {
        await updateDoc(doc(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection, &#x27;messages&#x27;, dataset.id), {
          emoji: data.emoji,
          message: data.message
        });
      }
    });
  }

  /**
   * The &#x60;updateChannelTitle&#x60; function updates the title of a channel in a Firestore database and then
   * refreshes the channel data.
   * @param {string} title - The &#x60;title&#x60; parameter in the &#x60;updateChannelTitle&#x60; function is a string that
   * represents the new title that you want to set for a channel.
   */
  async updateChannelTitle(title: string) {
    await updateDoc(doc(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection), {
      title: title
    });
    this.refreshChannelData();
  }

  /**
   * The function &#x60;updateChannelDescription&#x60; updates the description of a channel in a Firestore database
   * and then refreshes the channel data.
   * @param {string} description - a string that represents the new description that will be set for a channel
   * in the Firestore database.
   */
  async updateChannelDescription(description: string) {
    await updateDoc(doc(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection), {
      description: description
    });
    this.refreshChannelData();
  }

  /**
   * This function updates direct messages between users if they do not already exist.
   * @param {any} userInfo - The &#x60;updateUserDm&#x60; function you provided is an asynchronous function that
   * updates direct messages between users in a Firestore database. It checks if a direct message entry
   * already exists between the current user and the target user. If it doesn&#x27;t exist, it adds entries
   * for both users to establish a direct message
   */
  async updateUserDm(userInfo: any) {
    let alreadyExists &#x3D; false;
    const docSnap &#x3D; await getDocs(collection(this.firestore, &quot;user&quot;, this.userService.userInfo.id, &quot;directmessages&quot;));
    docSnap.forEach(element &#x3D;&gt; {
      if (element.data()[&#x27;dmUserId&#x27;] &#x3D;&#x3D; userInfo.id)
        alreadyExists &#x3D; true
    });
    if (!alreadyExists) {
      await addDoc(collection(this.firestore, &quot;user&quot;, userInfo.id, &quot;directmessages&quot;), { dmUserId: this.userService.currentUser });
      await addDoc(collection(this.firestore, &quot;user&quot;, this.userService.userInfo.id, &quot;directmessages&quot;), { dmUserId: userInfo.id });
    }
  }

  /**
   * The function &#x60;retrieveCurrentChannelUsers&#x60; asynchronously retrieves user data for the current
   * channel from a Firestore collection.
   */
  async retrieveCurrentChannelUsers() {
    const docSnap &#x3D; await getDocs(collection(this.firestore, &quot;user&quot;));
    this.currentChannelUsers &#x3D; [];
    docSnap.forEach((element: any) &#x3D;&gt; {
      if (this.channelMsgData.users.includes(element.id))
        this.currentChannelUsers.push(element.data())
    });
  }

  /**
   * The function &#x60;refreshChannelData&#x60; asynchronously retrieves channel data from Firestore and updates
   * the current channel users.
   */
  async refreshChannelData() {
    const docSnap &#x3D; await getDoc(doc(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection));
    this.channelMsgData &#x3D; docSnap.data();
    this.retrieveCurrentChannelUsers();
  }

  /**
   * Firestore collection reference for Channels
   * @returns collection
   */
  refChannels() {
    return collection(this.firestore, &quot;Channels&quot;)
  }

  refDirectMessage() {
    return collection(this.firestore, &quot;user&quot;, sessionStorage.getItem(&#x27;uid&#x27;) as string, &#x27;directmessages&#x27;)
  }

  refOppositeDirectMessage(id: string) {
    return collection(this.firestore, &quot;user&quot;, id, &#x27;directmessages&#x27;)
  }

  refDirectMessageData(id: string) {
    return collection(this.firestore, &quot;user&quot;, sessionStorage.getItem(&#x27;uid&#x27;) as string, &#x27;directmessages&#x27;, id, &#x27;messages&#x27;)
  }

  refCreateDM(sender: string, receiver: string) {
    return collection(this.firestore, &quot;user&quot;, sender, &#x27;directmessages&#x27;, receiver, &#x27;messages&#x27;)
  }
  refQuerySelf() {
    return query(this.refCreateDM(sessionStorage.getItem(&#x27;uid&#x27;)!, this.currentMessagesId));
  }

  refQueryOpposite() {
    return query(this.refCreateDM(this.privateMsgData.id, this.oppositeMessagesId));
  }

  refCreateChannelMsg() {
    return collection(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection, &quot;messages&quot;)
  }

  refChannelMessage() {
    return collection(this.firestore, &quot;Channels&quot;, this.channelMsgData.collection, &#x27;messages&#x27;)
  }

  refQueryChannelMsg() {
    return query(this.refChannelMessage())
  }

}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ChannelService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
